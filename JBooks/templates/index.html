<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JBooks - Your Personal Book Catalog</title>

    <link rel="icon" type="image/png" href="/static/icons/favicon-96x96.png" sizes="96x96" />
    <link rel="icon" type="image/svg+xml" href="/static/icons/favicon.svg" />
    <link rel="shortcut icon" href="/static/icons/favicon.ico" />
    <link rel="apple-touch-icon" sizes="180x180" href="/static/icons/apple-touch-icon.png" />
    <meta name="apple-mobile-web-app-title" content="JBooks" />
    <link rel="manifest" href="data:application/manifest+json,%7B%22name%22%3A%22JBooks%22%2C%22short_name%22%3A%22JBooks%22%2C%22description%22%3A%22JBooks%20Progressive%20Web%20App%22%2C%22start_url%22%3A%22https%3A%2F%2Fjbooks.eu.pythonanywhere.com%2F%22%2C%22orientation%22%3A%22portrait%22%2C%22icons%22%3A%5B%7B%22src%22%3A%22https%3A%2F%2Fjbooks.eu.pythonanywhere.com%2Fstatic%2Ficons%2Fweb-app-manifest-192x192.png%22%2C%22sizes%22%3A%22192x192%22%2C%22type%22%3A%22image%2Fpng%22%2C%22purpose%22%3A%22maskable%22%7D%2C%7B%22src%22%3A%22https%3A%2F%2Fjbooks.eu.pythonanywhere.com%2Fstatic%2Ficons%2Fweb-app-manifest-512x512.png%22%2C%22sizes%22%3A%22512x512%22%2C%22type%22%3A%22image%2Fpng%22%2C%22purpose%22%3A%22maskable%22%7D%5D%2C%22theme_color%22%3A%22%23ffffff%22%2C%22background_color%22%3A%22%23ffffff%22%2C%22display%22%3A%22standalone%22%7D">



    <script src="/static/js/tailwind-4.1.13.min.css"></script>
    <link href="/static/css/aos-2.3.4.min.css" rel="stylesheet">
    <script src="/static/js/aos-2.3.4.min.js"></script>
    <script src="/static/js/feather-icons-4.29.2.min.js"></script>
    <script src="/static/js/feather.min.js"></script>
    <script src="/static/js/sweetalert2-11.23.0.min.js"></script>
    <script src="/static/js/main.min.js" defer></script>
    <link href="/static/css/main.min.css" rel="stylesheet">
</head>
<body class="min-h-screen font-sans antialiased">
<div class="container mx-auto px-4 pb-24 pt-12 max-w-4xl">
    <!-- Header -->
    <header class="mb-12 text-center" data-aos="fade-down">
        <h1 class="text-4xl font-light text-gray-800 mb-2">JBooks</h1>
        <p class="text-gray-500">My personal book catalog</p>
    </header>

    <!-- Search & Buttons Section -->
    <div class="mb-4" data-aos="fade-up">
        <div class="flex items-center justify-center gap-4 flex-wrap">
            <div class="relative max-w-md w-full">
                <input
                    type="text"
                    id="searchInput"
                    placeholder="Search books..."
                    oninput="searchEntries()"
                    class="w-full px-5 py-3 pr-12 rounded-full border border-gray-200 search-input transition-all duration-200 focus:border-blue-400"
                >
                <button onclick="searchEntries()" class="absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600">
                    <i data-feather="search"></i>
                </button>
            </div>
            <button onclick="openAddEntryModal()" class="flex items-center gap-2 px-4 py-3 bg-blue-500 hover:bg-blue-600 text-white rounded-full transition-colors duration-200">
                <i data-feather="plus" class="w-4 h-4"></i>
                <span>Add Book</span>
            </button>
            <button onclick="openScannerModal()" class="flex items-center gap-2 px-4 py-3 bg-green-500 hover:bg-green-600 text-white rounded-full transition-colors duration-200">
                <i data-feather="camera" class="w-4 h-4"></i>
                <span>Scan ISBN</span>
            </button>
        </div>
    </div>

    <!-- Table Section -->
    <div class="bg-white rounded-xl shadow-sm overflow-hidden" data-aos="fade-up" data-aos-delay="100">
        <div class="overflow-x-auto">
            <table class="w-full">
                <thead class="bg-gray-50">
                    <tr class="hover:bg-gray-50">
                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Name</th>
                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">ISBN</th>
                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Location</th>
                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Author</th>
                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Summary</th>
                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Pages</th>
                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Language</th>
                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Published Date</th>
                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Cover</th>
                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Actions</th>
                    </tr>
                </thead>
                <tbody id="entriesTableBody" class="divide-y divide-gray-200">
                    <!-- Entries will be loaded dynamically here -->
                </tbody>
            </table>
        </div>
    </div>
</div>

 <!-- Footer -->
    <footer class="fixed bottom-0 left-0 right-0 bg-white border-t border-gray-100 py-4 text-center text-gray-500 text-xs">
        <div class="container mx-auto px-4">
            <div class="flex flex-col items-center space-y-1">
                <p>Â© 2025 TuJo</p>
                <p>This site is <a href="https://github.com/its-tujo/JBooks" target="_blank" class="text-blue-500 hover:text-blue-700 underline footer-link">open source</a>.</p>
                <p class="text-xs mt-1">Parts of this site were created with AI. Uses
                    <a href="https://developers.google.com/books" target="_blank" class="underline footer-link">Google Books API</a> and
                    book covers from <a href="https://openlibrary.org/dev/docs/api/covers" target="_blank" class="underline footer-link">OpenLibrary Covers API</a>.
                    Google is a registered trademark of Google LLC.
                </p>
                <!-- Added ZXing notice -->
                <p class="text-xs mt-1">
                    Uses <a href="https://github.com/zxing/zxing" target="_blank" class="underline footer-link">ZXing</a> for barcode scanning.
                </p>
            </div>
        </div>
    </footer>

<!-- Add Entry Modal -->
<div id="addEntryModal" class="fixed inset-0 bg-black bg-opacity-0 flex items-center justify-center z-50 hidden transition-opacity duration-300 ease-in-out" onclick="if(event.target === this) closeAddEntryModal()">
    <div class="bg-white rounded-xl p-6 w-full max-w-md transform transition-all duration-300 ease-in-out scale-95 opacity-0">
        <div class="flex justify-between items-center mb-4">
            <h3 class="text-lg font-medium text-gray-900">Add Book by ISBN</h3>
            <button onclick="closeAddEntryModal()" class="text-gray-400 hover:text-gray-500">
                <i data-feather="x" class="w-5 h-5"></i>
            </button>
        </div>
        <form id="isbnForm" class="space-y-4" onsubmit="return validateISBN()">
            <div>
                <label for="isbn" class="block text-sm font-medium text-gray-700 mb-1">ISBN Number</label>
                <input type="text" id="isbn" name="isbn" value="978" placeholder="Enter ISBN starting with 978" class="w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500" required>
            </div>
            <div>
                <label for="location" class="block text-sm font-medium text-gray-700 mb-1">Location</label>
                <input type="text" id="location" name="location" placeholder="Where is this book stored?" class="w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500" required>
            </div>
            <div class="flex justify-end gap-3">
                <button type="submit" class="px-4 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600 transition-colors">Submit</button>
            </div>
        </form>
    </div>
</div>

<!-- Scanner Modal -->
<div id="scannerModal" class="fixed inset-0 bg-black bg-opacity-0 flex items-center justify-center z-50 hidden transition-opacity duration-300 ease-in-out" onclick="if(event.target === this) closeScannerModal()">
    <div class="bg-white rounded-xl p-6 w-full max-w-md transform transition-all duration-300 ease-in-out scale-95 opacity-0">
        <div class="flex justify-between items-center mb-4">
            <h3 class="text-lg font-medium text-gray-900">Scan ISBN</h3>
            <button onclick="closeScannerModal()" class="text-gray-400 hover:text-gray-500">
                <i data-feather="x" class="w-5 h-5"></i>
            </button>
        </div>
        <video id="scanner" autoplay playsinline class="w-full h-64 rounded-md border border-gray-300 shadow-md"></video>
    </div>
</div>

<!-- ZXing library -->
<script src="/static/js/zxing-0.21.3.min.js"></script>
</body>
</html>
